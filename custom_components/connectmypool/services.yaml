send_action:
  name: Send raw action
  description: >
    Send a raw ConnectMyPool action (advanced). This is useful for testing or covering edge cases.
    The integration normally exposes everything via entities; use this if you know the action codes.
  fields:
    config_entry_id:
      name: Config entry id
      description: >
        If you have more than one pool configured, specify which entry to target.
        If omitted and only one pool is configured, it will be used automatically.
      example: "a1b2c3d4e5f6g7h8i9j0"
      selector:
        text:
    action_code:
      name: Action code
      description: Action code (1-12).
      example: 1
      selector:
        number:
          min: 1
          max: 12
          mode: box
    device_number:
      name: Device number
      description: Device number for the action (channel/valve/lighting zone/heater/solar). Defaults to 0.
      example: 1
      selector:
        number:
          min: 0
          max: 50
          mode: box
    value:
      name: Value
      description: Value for the action (mode number, setpoint, etc).
      example: "2"
      selector:
        text:
    wait_for_execution:
      name: Wait for execution
      description: Whether to wait for the controller to execute the instruction before returning.
      example: true
      selector:
        boolean:
apply_entity_id_prefix:
  name: Apply entity_id prefix
  description: >-
    Rename ConnectMyPool entities in the entity registry to include a prefix (e.g. connectmypool_*).
    This is useful if your entities were created without a consistent prefix.
  fields:
    config_entry_id:
      name: Config entry ID
      description: Optional. If you have multiple pools configured, specify which one.
      example: "abcd1234efgh5678"
    prefix:
      name: Prefix
      description: Prefix to apply to entity IDs (will be slugified).
      example: "connectmypool"
      default: "connectmypool"
    dry_run:
      name: Dry run
      description: If true, only shows what would change (creates a persistent notification).
      default: true
      example: true
